(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af4a448a"],{"19df":function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("header",[e("nav",{staticClass:"navbar navbar-expand-md",class:[{"navbar--dark":t.scrolled},t.navClass]},[e("div",{staticClass:"container"},[e("router-link",{staticClass:"navbar-brand mr-2",attrs:{to:"/"}},[e("img",{staticClass:"navbar-brand__img",attrs:{src:s("d33b"),alt:""}})]),e("div",{staticClass:"order-md-1 ml-auto"},[t._m(0),e("button",{staticClass:"btn navbar-iconbtn shadow-none",attrs:{"data-toggle":"modal","data-target":"#cartModal"}},[e("span",{staticClass:"fas fa-shopping-cart"}),t.cartCurrentNumber>0?e("span",{staticClass:"badge badge-primary"},[t._v(" "+t._s(t.cartCurrentNumber)+" ")]):t._e()])]),t._m(1),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("ul",{staticClass:"navbar-nav ml-auto"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("首頁")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/category"}},[t._v(" 產品 ")])],1),t._m(2)])])],1)]),e("div",{staticClass:"modal fade",attrs:{id:"cartModal",tabindex:"-1",role:"dialog","aria-labelledby":"cartModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",class:{"modal-lg":t.cartCurrentNumber>0},attrs:{role:"document"}},[e("div",{staticClass:"modal-content bg-dark text-white"},[t._m(3),e("div",{staticClass:"modal-body"},[t.cartCurrentNumber>0?e("div",[e("table",{staticClass:"table d-none d-md-table table-dark table-hover\n            text-center"},[t._m(4),e("tbody",t._l(t.carts.carts,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(s){return t.deleteCart(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),e("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.product.title)+" "),a.coupon?e("div",{staticClass:"text-success"},[t._v(" 已套用優惠券 ")]):t._e()]),e("td",{staticClass:"align-middle"},[e("div",{staticClass:"c-inputGroup"},[e("button",{staticClass:"btn c-inputGroup__minusBtn",attrs:{disabled:1===a.qty},on:{click:function(s){a.qty--,t.updateCartQty(a.product_id,a.qty,a.id)}}},[e("i",{staticClass:"fas fa-minus"})]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.qty,expression:"cart.qty"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.qty},on:{input:function(s){s.target.composing||t.$set(a,"qty",s.target.value)}}}),e("button",{staticClass:"btn c-inputGroup__plusBtn",attrs:{disabled:10===a.qty},on:{click:function(s){a.qty++,t.updateCartQty(a.product_id,a.qty,a.id)}}},[e("i",{staticClass:"fas fa-plus"})])])]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(a.total)))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(a.final_total)))])])})),0),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"4"}},[t._v("總計")]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.carts.total)))])]),t.carts.final_total!==t.carts.total?e("tr",[e("td",{staticClass:"text-right text-success",attrs:{colspan:"4"}},[t._v("折扣價")]),e("td",{staticClass:"text-right text-success"},[t._v(t._s(t._f("currency")(t.carts.final_total)))])]):t._e()])]),e("table",{staticClass:"table d-table d-md-none table-dark table-hover\n            text-center"},[t._l(t.carts.carts,(function(a,s){return e("tbody",{key:s,staticClass:"border-0"},[e("tr",[e("td",{staticClass:"align-middle",staticStyle:{width:"40px"}},[e("img",{attrs:{src:a.product.imageUrl,alt:"",width:"40"}})]),e("td",{staticClass:"align-middle text-left",attrs:{colspan:"2"}},[e("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(a.product.title)+" ")]),e("br"),a.product.price?e("span",{staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(t._f("currency")(a.product.price))+" ")]):e("span",{staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(t._f("currency")(a.product.origin_price))+" ")]),a.coupon?e("span",{staticClass:"text-success",staticStyle:{"font-size":"14px"}},[t._v(" 已套用優惠券 ")]):t._e()]),e("td",{staticClass:"align-middle text-right",staticStyle:{width:"35px"}},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(s){return t.deleteCart(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])])]),e("tr",[e("td",{staticClass:"align-middle border-0 p-md-margin",attrs:{colspan:"2"}},[e("div",{staticClass:"c-inputGroup"},[e("button",{staticClass:"btn c-inputGroup__minusBtn",attrs:{disabled:1===a.qty},on:{click:function(s){a.qty--,t.updateCartQty(a.product_id,a.qty,a.id)}}},[e("i",{staticClass:"fas fa-minus"})]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.qty,expression:"cart.qty"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.qty},on:{input:function(s){s.target.composing||t.$set(a,"qty",s.target.value)}}}),e("button",{staticClass:"btn c-inputGroup__plusBtn",attrs:{disabled:10===a.qty},on:{click:function(s){a.qty++,t.updateCartQty(a.product_id,a.qty,a.id)}}},[e("i",{staticClass:"fas fa-plus"})])])]),e("td",{staticClass:"align-middle text-right border-0",attrs:{colspan:"2"}},[t._v(" "+t._s(t._f("currency")(a.final_total))+" ")])])])})),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v(t._s(t._f("currency")(t.carts.total)))])]),t.carts.final_total!==t.carts.total?e("tr",[e("td",{staticClass:"text-right text-success",attrs:{colspan:"2"}},[t._v(" 折扣價 ")]),e("td",{staticClass:"text-right text-success",attrs:{colspan:"2"}},[t._v(" "+t._s(t._f("currency")(t.carts.final_total))+" ")])]):t._e()])],2)]):e("div",{staticClass:"d-flex justify-content-center flex-column align-items-center",staticStyle:{"padding-bottom":"62px"}},[e("img",{staticClass:"img-fluid mx-auto d-block",attrs:{width:"190",src:s("f2bb"),alt:""}}),t._m(5),e("router-link",{staticClass:"btn btn-danger",attrs:{to:"/category","data-dismiss":"modal"}},[t._v(" 返回產品 ")])],1)]),t.cartCurrentNumber>0?e("div",{staticClass:"modal-footer border-0"},[e("button",{staticClass:"btn btn-outline-light px-4",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),e("router-link",{staticClass:"btn btn-danger px-4",attrs:{to:"/checkout","data-dismiss":"modal"}},[t._v("結帳")])],1):t._e()])])]),e("div",{staticClass:"modal fade",attrs:{id:"SigninModal",tabindex:"-1",role:"dialog","aria-labelledby":"SigninModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content bg-dark text-white"},[t._m(6),e("div",{staticClass:"modal-body"},[e("form",{staticClass:"formSignin",on:{submit:function(a){return a.preventDefault(),t.signin(a)}}},[e("img",{staticClass:"mb-4 img-fluid",attrs:{src:s("d33b"),alt:"",height:"64"}}),e("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("電子郵件")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:""},domProps:{value:t.user.username},on:{input:function(a){a.target.composing||t.$set(t.user,"username",a.target.value)}}}),e("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("密碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:"",autocomplete:""},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}}),t._m(7),e("button",{staticClass:"btn btn-lg btn-danger btn-block",attrs:{type:"submit"}},[t._v("登入")])])])])])])])},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("button",{staticClass:"btn navbar-iconbtn shadow-none",attrs:{type:"button","data-toggle":"modal","data-target":"#SigninModal"}},[s("span",{staticClass:"fas fa-user-cog"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent"}},[s("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"https://github.com/Albertnotes/FixedGearShop_v4",target:"_blank"}},[t._v(" 作者 ")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-header border-0"},[s("h5",{staticClass:"modal-title",attrs:{id:"cartModalLabel"}},[t._v("購物車")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",{staticClass:"thead-light text-nowrap"},[s("th",{staticStyle:{width:"5%"}},[t._v("刪除")]),s("th",[t._v("品名")]),s("th",{staticStyle:{width:"10%"}},[t._v("數量")]),s("th",[t._v("單價")]),s("th",[t._v("總計")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h5",{staticClass:"font-weight-bold"},[t._v(" 購物車目前沒有內容"),s("br")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-header border-0"},[s("h5",{staticClass:"modal-title",attrs:{id:"SigninModalLabel"}},[t._v("登入介面")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"checkbox mb-3"},[s("label",[s("input",{attrs:{type:"checkbox",value:"remember-me"}}),t._v(" 記住我 ")])])}],r=s("1157"),c=s.n(r),n={name:"FrontHeader",data:function(){return{user:{username:"",password:""},scrolled:!1}},props:["carts","cartCurrentNumber","navClass"],methods:{signin:function(){var t="".concat("https://vue-course-api.hexschool.io","/admin/signin"),a=this;a.$http.post(t,a.user).then((function(t){t.data.success?(a.$router.push("/dashboard"),c()("#SigninModal").modal("hide")):(a.$bus.$emit("message:push",t.data.message,"danger"),c()("#SigninModal").modal("hide"))}))},deleteCart:function(t){this.$emit("delete-cart",t)},updateCartQty:function(t,a,s){this.$emit("update-cart-qty",t,a,s)},getProduct:function(t){this.$emit("search-product",t)},onScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop;t<0||(this.scrolled=t>1)}},mounted:function(){window.addEventListener("scroll",this.onScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)}},o=n,l=(s("c115"),s("2877")),d=Object(l["a"])(o,e,i,!1,null,"7a77aafb",null);a["a"]=d.exports},"26a3":function(t,a,s){},"4afc":function(t,a,s){"use strict";a["a"]={data:function(){return{swiperOptionMuch:{slidesPerView:1,spaceBetween:20,speed:500,autoplay:!0,breakpoints:{768:{slidesPerView:2,spaceBetween:30},992:{slidesPerView:3,spaceBetween:40},1280:{slidesPerView:4,spaceBetween:50}},pagination:{el:".swiper-pagination",clickable:!0}}}}}},6988:function(t,a,s){"use strict";a["a"]={methods:{toDetail:function(t){this.$router.push("/detail/".concat(t))}}}},"6b34":function(t,a,s){"use strict";s("99af");a["a"]={data:function(){return{carts:[],cartNumber:1,cartCurrentNumber:0}},methods:{getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("fixedgearshop","/cart");t.status.isLoading=!0,t.$http.get(a).then((function(a){a.data.success&&(t.carts=a.data.data,t.cartCurrentNumber=t.carts.carts.length,setTimeout((function(){t.status.isLoading=!1}),500))}))},addToCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("fixedgearshop","/cart"),i={product_id:t,qty:a};s.$http.post(e,{data:i}).then((function(t){t.data.success&&(s.cartNumber=1,s.getCart(),s.$bus.$emit("message:push",t.data.message,"success"))}))},deleteCart:function(t){var a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("fixedgearshop","/cart/").concat(t);a.$http.delete(s).then((function(t){t.data.success&&(a.getCart(),a.$bus.$emit("message:push",t.data.message,"danger"))}))},updateCartQty:function(t,a,s){var e=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("fixedgearshop","/cart"),r={product_id:t,qty:a};e.status.isLoading=!0,e.$http.post(i,{data:r}).then((function(t){t.data.success?(i="".concat(i,"/").concat(s),e.$http.delete(i).then((function(t){t.data.success&&(e.getCart(),e.$bus.$emit("message:push","數量已更新","success"))}))):(e.getCart(),e.$bus.$emit("message:push","數量更新失敗","danger"))}))}}}},"9f25":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.status.isLoading},on:{"update:active":function(a){return t.$set(t.status,"isLoading",a)}}},[[s("div",{staticClass:"lds-ripple"},[s("div"),s("div")])]],2),s("front-header",{attrs:{carts:t.carts,"nav-class":["navbar-dark","bg-black"],cartCurrentNumber:t.cartCurrentNumber},on:{"delete-cart":t.deleteCart,"update-cart-qty":t.updateCartQty}}),s("main",{staticClass:"container"},[s("nav",{attrs:{"aria-label":"breadcrumb"}},[s("ol",{staticClass:"breadcrumb bg-transparent border-bottom rounded-0 h5 mb-0"},[s("li",{staticClass:"breadcrumb-item"},[s("router-link",{attrs:{to:"/"}},[t._v("首頁")])],1),s("li",{staticClass:"breadcrumb-item"},[s("router-link",{attrs:{to:"/category"}},[t._v("產品")])],1),s("li",{staticClass:"breadcrumb-item active"},[t._v(" "+t._s(t.product.category)+" ")])])]),s("section",{staticClass:"row l-section"},[s("div",{staticClass:"col-md-7"},[s("img",{staticClass:"img-fluid mx-auto d-block",attrs:{src:t.product.imageUrl,alt:""}})]),s("div",{staticClass:"col-md-5"},[s("h3",{staticClass:"mb-5"},[t._v(t._s(t.product.title))]),s("h5",[t._v("規格")]),s("p",[t._v(t._s(t.product.description))]),s("h5",[t._v("說明")]),s("p",[t._v(t._s(t.product.content))]),t._m(0),s("div",{staticClass:"d-flex justify-content-between align-items-center py-3"},[s("div",[t.product.price?t._e():s("h6",{staticClass:"font-weight-bold"},[t._v(" "+t._s(t._f("currency")(t.product.origin_price))+" ")]),t.product.price?s("del",{staticClass:"small text-muted font-weight-bold"},[t._v(" "+t._s(t._f("currency")(t.product.origin_price))+" ")]):t._e(),t.product.price?s("h5",{staticClass:"text-danger font-weight-bold"},[t._v(" "+t._s(t._f("currency")(t.product.price))+" ")]):t._e()]),s("div",{staticClass:"text-muted"},[t.product.price?t._e():s("span",[t._v(" 小計 "+t._s(t._f("currency")(t.product.origin_price*t.cartNumber))+" ")]),t.product.price?s("span",[t._v(" 小計 "+t._s(t._f("currency")(t.product.price*t.cartNumber))+" ")]):t._e()])]),s("div",{staticClass:"\n        d-flex justify-content-between\n        align-items-md-center flex-column flex-md-row"},[s("div",{staticClass:"c-inputGroup mb-3 mr-md-3 mb-md-0"},[s("button",{staticClass:"btn c-inputGroup__minusBtn",attrs:{disabled:1===t.cartNumber},on:{click:function(a){t.cartNumber--}}},[s("i",{staticClass:"fas fa-minus"})]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.cartNumber,expression:"cartNumber"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.cartNumber},on:{input:function(a){a.target.composing||(t.cartNumber=a.target.value)}}}),s("button",{staticClass:"btn c-inputGroup__plusBtn",attrs:{disabled:10===t.cartNumber},on:{click:function(a){t.cartNumber++}}},[s("i",{staticClass:"fas fa-plus"})])]),s("button",{staticClass:"btn btn-danger px-4 w-100",attrs:{type:"button"},on:{click:function(a){return t.addToCart(t.product.id,t.cartNumber)}}},[t._v(" 加入購物車 ")])])])]),s("div",{staticClass:"row l-section justify-content-center"},[s("h2",{staticClass:"l-section__title"},[t._v("其他產品")]),s("div",{staticClass:"col"},[s("swiper",{staticClass:"swiper h-100",attrs:{options:t.swiperOptionMuch}},t._l(t.filterProducts,(function(a){return s("swiper-slide",{key:a.id},[s("div",{staticClass:"card card--product"},[s("a",{staticClass:"card-img",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t.toDetail(a.id),t.updateDetailId()}}},[s("img",{staticClass:"img-fluid",attrs:{src:a.imageUrl,alt:""}})]),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title text-truncate"},[t._v(t._s(a.title))]),s("div",{staticClass:"cardPrice"},[a.price?s("span",{staticClass:"cardPrice__title"},[t._v(" "+t._s(t._f("currency")(a.price))+" ")]):t._e(),a.price?t._e():s("span",[t._v(" "+t._s(t._f("currency")(a.origin_price))+" ")]),a.price?s("del",{staticClass:"cardPrice__subtitle"},[t._v(" "+t._s(t._f("currency")(a.origin_price))+" ")]):t._e()])]),s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(s){return t.addToCart(a.id)}}},[t._v(" 加入購物車 ")])])])})),1)],1)])])],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"my-4 py-2 bg-light text-center"},[s("span",{staticClass:"fas fa-truck mr-3"}),s("span",[t._v("免運費")])])}],r=(s("4de4"),s("2909")),c=(s("99af"),{data:function(){return{product:{}}},methods:{getProduct:function(t){var a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("fixedgearshop","/product/").concat(t);a.status.isLoading=!0,a.$http.get(s).then((function(t){t.data.success?(a.product=t.data.product,setTimeout((function(){a.status.isLoading=!1}),500)):(a.$bus.$emit("message:push",t.data.message,"danger"),setTimeout((function(){a.status.isLoading=!1}),500))}))}}}),n=s("64c7"),o=s("6b34"),l=s("6988"),d=s("4afc"),u=s("19df"),p={name:"FrontDetail",data:function(){return{status:{isLoading:!1}}},components:{FrontHeader:u["a"]},mixins:[c,n["a"],o["a"],l["a"],d["a"]],methods:{updateDetailId:function(){this.detailId=this.$route.params.detailId,this.getProduct(this.detailId)}},computed:{filterProducts:function(){var t=this,a=Object(r["a"])(this.allProducts),s=a.filter((function(a){return a.category===t.product.category}));return s}},created:function(){this.detailId=this.$route.params.detailId,this.getProduct(this.detailId),this.getCart(),this.getProducts()}},m=p,b=s("2877"),f=Object(b["a"])(m,e,i,!1,null,"0f91e3b4",null);a["default"]=f.exports},c115:function(t,a,s){"use strict";var e=s("26a3"),i=s.n(e);i.a},d33b:function(t,a,s){t.exports=s.p+"img/WheelTalk_Logo.de390916.png"},f2bb:function(t,a,s){t.exports=s.p+"img/first-bike-gif.392c91a7.gif"}}]);
//# sourceMappingURL=chunk-af4a448a.d362955a.js.map